var GameManagerScript=pc.createScript("gameManagerScript");GameManagerScript.attributes.add("ingredient0",{type:"entity",default:null}),GameManagerScript.attributes.add("ingredient1",{type:"entity",default:null}),GameManagerScript.attributes.add("ingredient2",{type:"entity",default:null}),GameManagerScript.attributes.add("ingredient3",{type:"entity",default:null}),GameManagerScript.attributes.add("ingredient4",{type:"entity",default:null}),GameManagerScript.attributes.add("ingredient5",{type:"entity",default:null}),GameManagerScript.prototype.initialize=function(){this.ingredientsList=[],this.ingredientsList.push(this.ingredient0),this.ingredientsList.push(this.ingredient1),this.ingredientsList.push(this.ingredient2),this.ingredientsList.push(this.ingredient3),this.ingredientsList.push(this.ingredient4),this.ingredientsList.push(this.ingredient5),this.currentScore=0,this.rating=3,this.positiveChange=0},GameManagerScript.prototype.update=function(t){},GameManagerScript.prototype.updateScore=function(t){"Good"===t?(this.currentScore++,this.positiveChange++):"Bad"===t&&(this.rating--,this.positiveChange=0),this.gameStateCheck()},GameManagerScript.prototype.gameStateCheck=function(){this.positiveChange>=5&&(this.rating++,this.positiveChange=0),this.rating<=0&&this.endGame()},GameManagerScript.prototype.startGame=function(){},GameManagerScript.prototype.endGame=function(){},GameManagerScript.prototype.reEnableAllIngredients=function(){for(var t=0;t<this.ingredientsList.length;t++)this.ingredientsList[t].enabled=!0};var PotionCollision=pc.createScript("potionCollision");PotionCollision.prototype.initialize=function(){this.entity.collision.on("collisionstart",this.onCollisionStart,this)},PotionCollision.prototype.onCollisionStart=function(o){console.log("Colliding"),console.log(o.name),o.other.rigidbody&&(o.other.tags.has("ingredient")&&(console.log("Collided with an ingredient"),this.app.fire("potionCollision:addNewIngredientEvent",o.other.name.substr(o.other.name.length-1)),o.other.script.ingredientEnableState.disableIngredient()),this.entity.sound.play("clink"),this.entity.sound.play("collideSound"),console.log(o.other.name.substr(o.other.name.length-1)))};// movement.js
// var Mouse = pc.createScript('mouse');

// // initialize code called once per entity
// Mouse.prototype.initialize = function() {
    
//     this.selected = false;
//     this.pos = new pc.Vec3();

//     // Disabling the context menu stops the browser displaying a menu when
//     // you right-click the page
//     this.app.mouse.disableContextMenu();

//     // Use the on() method to attach event handlers.
//     // The mouse object supports events on move, button down and
//     // up, and scroll wheel.
//     this.app.mouse.on(pc.EVENT_MOUSEMOVE, this.onMouseMove, this);
//     this.app.mouse.on(pc.EVENT_MOUSEDOWN, this.onMouseDown, this);
//     this.app.mouse.on(pc.EVENT_MOUSEUP, this.onMouseUp, this);
//     // mouseup
// };

// Mouse.prototype.onMouseUp = function (event){
//     console.log("I am clicked");
//     if (event.button === pc.MOUSEBUTTON_LEFT) {
//         // list()
//         this.selected = false;
//     }
// };

// Mouse.prototype.onMouseDown = function (event){
//     console.log("I am clicked");
//     if (event.button === pc.MOUSEBUTTON_LEFT) {
//         // list()
//         console.log(this.entity.tags);
//         this.selected = true;
//     }
// };


// Mouse.prototype.onMouseMove = function (event) {
    
//     if (this.selected){
//         // Use the camera component's screenToWorld function to convert the
//         // position of the mouse into a position in 3D space
//         var depth = 8;
//         var cameraEntity = this.app.root.findByName('Camera');
//         cameraEntity.camera.screenToWorld(event.x, event.y, depth, this.pos);

//         // Finally update the cube's world-space position
//         this.entity.setPosition(this.pos);
//         console.log(this.entity);
//     }
    
    
    
    
// };


var PotionCombinationLogic=pc.createScript("potionCombinationLogic");PotionCombinationLogic.attributes.add("ingredientSlot",{type:"entity",default:null}),PotionCombinationLogic.attributes.add("playAgainButton",{type:"entity",default:null}),PotionCombinationLogic.attributes.add("shareButton",{type:"entity",default:null}),PotionCombinationLogic.prototype.initialize=function(){this.ingredientSymbolsString="",console.log("Inside of the initialize function of PotionCombinationLogic"),this.playAgainButton.enabled=!1,this.shareButton.enabled=!1,this.app.on("potionCollision:addNewIngredientEvent",this.addEffects,this),this.app.on("pickerRaycast:resetGame",this.initializeCustomer,this),this.app.keyboard.on(pc.EVENT_KEYDOWN,this.sendPrintEffects,this),this.regExExpA=/[A]/g,this.regExExpBCD=/[B]|[C]|[D]/g,this.regExExpBCE=/[B]|[C]|[E]/g,this.regExExpBCF=/[B]|[C]|[F]/g,this.regExExpBDE=/[B]|[D]|[E]/g,this.regExExpBDF=/[B]|[D]|[F]/g,this.regExExpBEF=/[B]|[E]|[F]/g,this.regExExpCDE=/[C]|[D]|[E]/g,this.regExExpCDF=/[C]|[D]|[F]/g,this.regExExpCEF=/[C]|[E]|[F]/g,this.regExExpDEF=/[D]|[E]|[F]/g,this.matchesArray=[],this.regExArray=[this.regExExpA,this.regExExpBCD,this.regExExpBCE,this.regExExpBCF,this.regExExpBDE,this.regExExpBDF,this.regExExpBEF,this.regExExpCDE,this.regExExpCDF,this.regExExpCEF,this.regExExpDEF],this.characterEnitityBodyParts=[]},PotionCombinationLogic.prototype.initializeCustomer=function(){this.ingredientSymbolsString=""},PotionCombinationLogic.prototype.addEffects=function(i){this.ingredientSymbolsString+=i,console.log("The most recent added effect is "+this.ingredientSymbolsString),1==this.ingredientSymbolsString.length&&this.app.fire("potionCombinationLogic:showFirstIngredient",i),2==this.ingredientSymbolsString.length&&this.app.fire("potionCombinationLogic:showSecondIngredient",i),3==this.ingredientSymbolsString.length&&(this.app.fire("potionCombinationLogic:showThirdIngredient",i),this.app.fire("potionCombinationLogic:reachedIngredientMax"),this.determineEffect())},PotionCombinationLogic.prototype.sendPrintEffects=function(i){this.app.keyboard.wasPressed(pc.KEY_A)&&console.log("The ingredients are: "+this.ingredientSymbolsString)},PotionCombinationLogic.prototype.determineEffect=function(){console.log("The ingredients are: "+this.ingredientSymbolsString);for(var i=0;i<this.regExArray.length;i++){this.regExArray[i];var t=this.ingredientSymbolsString.match(this.regExArray[i]);if(0===i){if(t&&1===t.length){console.log("The regEx that it matches is "+i),this.app.fire("potionCombinationLogic:showPotionEvent",i);var e=this,o=i;setTimeout(function(){e.app.fire("potionCombinationLogic:applyCharacterPoof")},4e3),setTimeout(function(){console.log("Applying the character effect after a delay"),e.app.fire("potionCombinationLogic:applyPotionEffectEvent",o),e.playAgainButton.enabled=!0,e.shareButton.enabled=!0},4100)}}else if(t&&3===t.length){console.log("The regEx that it matches is "+i),this.app.fire("potionCombinationLogic:showPotionEvent",i);e=this,o=i;setTimeout(function(){e.app.fire("potionCombinationLogic:applyCharacterPoof")},4e3),setTimeout(function(){console.log("Applying the character effect after a delay"),e.app.fire("potionCombinationLogic:applyPotionEffectEvent",o),e.playAgainButton.enabled=!0,e.shareButton.enabled=!0},4100)}}};var PointClickController=pc.createScript("pointClickController");PointClickController.prototype.initialize=function(){this.app.on("potionCombinationLogic:reachedIngredientMax",this.canMoveIngredientsFalse,this),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.canMoveIngredients=!0},PointClickController.prototype.update=function(o){Mouse.prototype.onMouseMove=function(o){this.app.root.findByName("Camera").camera.screenToWorld(o.x,o.y,10,this.pos),potionSelected&&!0===this.canMovePotions&&this.potion.setPosition(this.pos)}},PointClickController.prototype.canMoveIngredientsTrue=function(){this.canMoveIngredients=!0},PointClickController.prototype.canMoveIngredientsFalse=function(){this.canMoveIngredients=!1};var IngredientSlotScript=pc.createScript("ingredientSlotScript");IngredientSlotScript.prototype.initialize=function(){this.ingredientValue="X",this.app.keyboard.on(pc.EVENT_KEYDOWN,this.setIngredientSymbol,this)},IngredientSlotScript.prototype.update=function(t){},IngredientSlotScript.prototype.setIngredientSymbol=function(t){this.app.keyboard.wasPressed(pc.KEY_A)&&console.log("right before trying sendIngredientSymbol")},IngredientSlotScript.prototype.sendIngredientSymbol=function(t){console.log("in sendIngredientSymbol with "+t),this.ingredientValue=t,this.app.fire("ingredientSlotScript:addNewIngredientEvent",this.ingredientValue)};var Pulse=pc.createScript("pulse");Pulse.prototype.initialize=function(){this.factor=0},Pulse.prototype.pulse=function(){this.factor=1},Pulse.prototype.update=function(t){if(this.factor>0){this.factor-=t;var i=1+Math.sin(10*this.factor)*this.factor;this.entity.setLocalScale(i,i,i)}};var PickerRaycast=pc.createScript("pickerRaycast"),zLock=8,depth=zLock,re=/ingredient\_/;PickerRaycast.prototype.initialize=function(){this.app.on("potionCombinationLogic:reachedIngredientMax",this.canMoveIngredientsFalse,this),this.selected=!1,this.pos=new pc.Vec3,this.pickedEntity=null,this.canMoveIngredients=!0,this.ScreenPos=new pc.Vec3(0,0,0),this.worldScreenPosOld=new pc.Vec3(0,0,0),this.app.mouse.disableContextMenu(),this.app.touch&&(this.app.touch.on(pc.EVENT_TOUCHSTART,this.onSelectStartTouch,this),this.app.touch.on(pc.EVENT_TOUCHMOVE,this.onSelectMoveTouch,this),this.app.touch.on(pc.EVENT_TOUCHEND,this.onSelectEndTouch,this)),this.app.mouse.on(pc.EVENT_MOUSEMOVE,this.onMouseMove,this),this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this)},PickerRaycast.prototype.resetGame=function(){this.canMoveIngredients=!0},PickerRaycast.prototype.onMouseUp=function(t){console.log("I am clicked"),t.button===pc.MOUSEBUTTON_LEFT&&(this.selected=!1,this.pickedEntity=null)},PickerRaycast.prototype.onMouseDown=function(t){console.log(t);var e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),o=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),i=this.app.systems.rigidbody.raycastFirst(e,o);if(i){var s=i.entity,n=s.name.match(re),c="FrontButton"===s.name||"BackButton"===s.name;"PlayAgainButton"===s.name&&this.app.fire("pickerRaycast:fadeToBlack"),"StartButton"===s.name&&(console.log("JUST BEFORE FIRING THE START GAME EVENT"),this.app.fire("pickerRaycast:startGame")),n&&!0===this.canMoveIngredients?(console.log("I found something!!!"),t.button===pc.MOUSEBUTTON_LEFT&&(this.selected=!0,this.pickedEntity=s,console.log(this.pickedEntity),s.sound.play("bark"))):c&&this.app.fire("pickerRaycast:changeCam","MoveCam")}},PickerRaycast.prototype.onMouseMove=function(t){if(this.selected){var e=this.app.root.findByName("Camera");this.pos.z=zLock,e.camera.screenToWorld(t.x,t.y,depth,this.pos),this.pickedEntity.setPosition(this.pos)}},PickerRaycast.prototype.onSelectEndTouch=function(t){this.selected=!1,this.pickedEntity=null},PickerRaycast.prototype.onSelectStartTouch=function(t){if(console.log(t.touches),t.touches){var e=t.touches[0],o=this.entity.camera.screenToWorld(e.x,e.y,this.entity.camera.nearClip),i=this.entity.camera.screenToWorld(e.x,e.y,this.entity.camera.farClip),s=this.app.systems.rigidbody.raycastFirst(o,i);if(s){var n=s.entity,c=n.name.match(re),a="FrontButton"===n.name||"BackButton"===n.name;console.log("The currentPickedEntity.name is "+n.name),"PlayAgainButton"===n.name&&this.app.fire("pickerRaycast:fadeToBlack"),"StartButton"===n.name&&(console.log("JUST BEFORRE FIRING THE START GAME EVENT"),this.app.fire("pickerRaycast:startGame")),c&&!0===this.canMoveIngredients?(console.log("I found something!!!"),t.touches[0]&&(this.selected=!0,this.pickedEntity=n,console.log(this.pickedEntity),n.sound.play("bark"))):a&&this.app.fire("pickerRaycast:changeCam","MoveCam")}}else console.log("NO TOUCHES DETECTED")},PickerRaycast.prototype.onSelectMoveTouch=function(t){if(this.selected){if(!t.touches)return;var e=t.touches[0],o=this.app.root.findByName("Camera");this.pos.z=zLock,o.camera.screenToWorld(e.x,e.y,depth,this.pos),this.pickedEntity.setPosition(this.pos)}},PickerRaycast.prototype.canMoveIngredientsTrue=function(){this.canMoveIngredients=!0},PickerRaycast.prototype.canMoveIngredientsFalse=function(){this.canMoveIngredients=!1};var PlaySoundWhenPicked=pc.createScript("playSoundWhenPicked");PlaySoundWhenPicked.prototype.initialize=function(){};var isAnimating,forward,v,clickable,AnimatePosition=pc.createScript("animatePosition");AnimatePosition.attributes.add("offsetCurve",{type:"curve",title:"Offset Curve",curves:["x","y","z"]}),AnimatePosition.attributes.add("offsetCurve2",{type:"curve",title:"Offset Curve2",curves:["x","y","z"]}),AnimatePosition.attributes.add("duration",{type:"number",default:1,title:"Duration (secs)"}),AnimatePosition.attributes.add("animating",{type:"Boolean",default:!1,title:"Is Animating"}),AnimatePosition.prototype.initialize=function(){this.forward=!0,isAnimating=AnimatePosition.attributes.get("animating"),this.app.on("pickerRaycast:changeCam",this.moveCam,this),this.app.on("potionManager:changeCam",this.moveCam,this),this.app.on("pickerRaycast:startGame",this.initialMovement,this),this.startPosition=this.entity.getPosition().clone(),this.position=new pc.Vec3,v=this.position,this.time=0,this.isAnimating=!1},AnimatePosition.prototype.initialMovement=function(){console.log("INSIDE OF THE INITIAL MOVEMENT SCRIPT"),this.position.x=20,this.position.y=.5,this.position.z=12,this.entity.setPosition(this.position);var i=this;setTimeout(function(){i.moveCam()},3500)},AnimatePosition.prototype.moveCam=function(){!1===this.isAnimating&&(this.time=0,this.isAnimating=!0,this.forward=!this.forward)},AnimatePosition.prototype.Clicked=function(){!1===this.isAnimating&&(this.time=0,this.isAnimating=!0,this.forward=!this.forward)},AnimatePosition.prototype.update=function(i){if(!0===this.forward&&!0===this.isAnimating){if(this.time+=i,this.time>this.duration)return void(this.isAnimating=!1);var t=this.time/this.duration,s=this.offsetCurve.value(t);this.position.copy(this.startPosition),this.position.x=s[0],this.entity.setPosition(this.position)}if(!1===this.forward&&!0===this.isAnimating){if(this.time+=i,this.time>this.duration)return void(this.isAnimating=!1);var o=this.time/this.duration,n=this.offsetCurve2.value(o);this.position.copy(this.startPosition),this.position.x=n[0],this.entity.setPosition(this.position)}};var StartGameButton=pc.createScript("startGameButton");StartGameButton.attributes.add("sceneId",{type:"string",default:"0",title:"Scene ID to Load"});var mainSceneId="592321";StartGameButton.prototype.initialize=function(){this.app.touch&&this.app.touch.on(pc.EVENT_TOUCHEND,this.onSelectEndTouch,this),this.app.mouse.on(pc.EVENT_MOUSEUP,this.onMouseUp,this)},StartGameButton.prototype.onMouseUp=function(t){console.log("I am clicked"),t.button===pc.MOUSEBUTTON_LEFT&&this.changeScenes()},StartGameButton.prototype.onSelectEndTouch=function(t){this.changeScenes()},StartGameButton.prototype.changeScenes=function(){var t=this.app.root.findByName("Root");this.loadScene(mainSceneId,function(){t.destroy()})},StartGameButton.prototype.loadScene=function(t,e){var o=t+".json";this.app.loadSceneHierarchy(o,function(t,o){t?console.error(t):e(o)})};var ClickTochangeStore=pc.createScript("clickTochangeStore");ClickTochangeStore.prototype.initialize=function(){this.app.mouse.on(pc.EVENT_MOUSEDOWN,this.onMouseDown,this)},ClickTochangeStore.prototype.onMouseDown=function(t){console.log(t);var o=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.nearClip),e=this.entity.camera.screenToWorld(t.x,t.y,this.entity.camera.farClip),n=this.app.systems.rigidbody.raycastFirst(o,e);if(n){var i=n.entity;("FrontButton"===i.name||"BackButton"===i.name)&&(console.log("I found something!!!"),t.button===pc.MOUSEBUTTON_LEFT&&this.app.fire("clickTochangeStore:changeCam","FrontButton"))}};var CharacterEffectManager=pc.createScript("characterEffectManager");CharacterEffectManager.attributes.add("base",{type:"entity",default:null}),CharacterEffectManager.attributes.add("thumbsDown",{type:"entity",default:null}),CharacterEffectManager.attributes.add("thumbsUp",{type:"entity",default:null}),CharacterEffectManager.attributes.add("questionMark",{type:"entity",default:null}),CharacterEffectManager.attributes.add("ash",{type:"entity",default:null}),CharacterEffectManager.attributes.add("bat",{type:"entity",default:null}),CharacterEffectManager.attributes.add("skeleton",{type:"entity",default:null}),CharacterEffectManager.attributes.add("mini",{type:"entity",default:null}),CharacterEffectManager.attributes.add("werewolf",{type:"entity",default:null}),CharacterEffectManager.attributes.add("ice",{type:"entity",default:null}),CharacterEffectManager.attributes.add("antler",{type:"entity",default:null}),CharacterEffectManager.attributes.add("eyeAngry",{type:"entity",default:null}),CharacterEffectManager.attributes.add("eyeBlush",{type:"entity",default:null}),CharacterEffectManager.attributes.add("eyeBored",{type:"entity",default:null}),CharacterEffectManager.attributes.add("eyeExcited",{type:"entity",default:null}),CharacterEffectManager.attributes.add("eyeSad",{type:"entity",default:null}),CharacterEffectManager.attributes.add("eyeMany",{type:"entity",default:null}),CharacterEffectManager.attributes.add("boils",{type:"entity",default:null}),CharacterEffectManager.attributes.add("angelWings",{type:"entity",default:null}),CharacterEffectManager.attributes.add("hairy",{type:"entity",default:null}),CharacterEffectManager.prototype.initialize=function(){this.app.on("potionCombinationLogic:applyPotionEffectEvent",this.applyPotionEffect,this),this.app.on("pickerRaycast:resetGame",this.resetGame,this),this.partsGroup=[this.antler,this.eyeMany,this.hairy,this.boils,this.angelWings,this.ice],this.eyesGroup=[this.eyeAngry,this.eyeBlush,this.eyeBored,this.eyeExcited,this.eyeSad],this.transformationGroup=[this.ash,this.bat,this.skeleton,this.mini,this.werewolf],this.fixEffect=-1,this.fixEffectStartingState=null,this.characterInitialAppearanceArray=[0,2,3],this.initialEffect=-1,this.setDefault(),this.setCharacterInitialAppearance(this.initialEffect)},CharacterEffectManager.prototype.resetGame=function(){this.setDefault(),this.setCharacterInitialAppearance(this.initialEffect)},CharacterEffectManager.prototype.setDefault=function(){this.fixEffect=-1,this.fixEffectStartingState=null,this.initialEffect=this.characterInitialAppearanceArray[Math.floor(Math.random()*Math.floor(this.characterInitialAppearanceArray.length))],this.thumbsDown.enabled=!1,this.thumbsUp.enabled=!1,this.questionMark.enabled=!1,this.base.enabled=!0;for(var t=0;t<this.transformationGroup.length;t++)this.transformationGroup[t].enabled=!1;for(var e=0;e<this.partsGroup.length;e++)this.partsGroup[e].enabled=!1},CharacterEffectManager.prototype.setCharacterInitialAppearance=function(t){this.partsGroup[t].enabled=!0,this.setFixEffect(t)},CharacterEffectManager.prototype.setFixEffect=function(t){this.fixEffect=t,this.fixEffectStartingState=this.partsGroup[t].enabled},CharacterEffectManager.prototype.toggleEffect=function(t){this.partsGroup[t].enabled=!this.partsGroup[t].enabled,this.partsGroup[t].sound.play("clink"),this.partsGroup[t].sound.play("resultSound")},CharacterEffectManager.prototype.setTransformation=function(t){for(var e=0;e<this.transformationGroup.length;e++)this.transformationGroup[e].enabled=!1;for(var a=0;a<this.partsGroup.length;a++)this.partsGroup[a].enabled=!1;this.base.enabled=!1,this.transformationGroup[t].enabled=!0,this.transformationGroup[t].sound.play("resultSound")},CharacterEffectManager.prototype.applyPotionEffect=function(t){switch(t){case 0:this.setTransformation(4);break;case 1:this.toggleEffect(0);break;case 2:this.toggleEffect(1);break;case 3:this.toggleEffect(2);break;case 4:this.toggleEffect(3);break;case 5:this.toggleEffect(4);break;case 6:this.setTransformation(1);break;case 7:this.toggleEffect(5);break;case 8:this.setTransformation(0);break;case 9:this.setTransformation(2);break;case 10:this.setTransformation(3)}this.checkWinState()},CharacterEffectManager.prototype.checkWinState=function(){for(var t=!0,e=this,a=0;a<this.transformationGroup.length;a++)if(!0===this.transformationGroup[a].enabled)return setTimeout(function(){e.questionMark.enabled=!0},1e3),t=!1;for(var r=0;r<this.partsGroup.length;r++)if(console.log("this.fixEffect is "+this.fixEffect),console.log("this.partsGroup[this.fixEffect] is "+this.partsGroup[this.fixEffect]),this.partsGroup[this.fixEffect].enabled===this.fixEffectStartingState)return setTimeout(function(){e.thumbsDown.enabled=!0},1e3),t=!1;return console.log("The winState is "+t),setTimeout(function(){e.thumbsUp.enabled=!0},1e3),t};var PotionManager=pc.createScript("potionManager");PotionManager.attributes.add("AAA_hairOfTheDog",{type:"entity",default:null}),PotionManager.attributes.add("BCD_pointyPunch",{type:"entity",default:null}),PotionManager.attributes.add("BCE_peepingPotion",{type:"entity",default:null}),PotionManager.attributes.add("BCF_tupeeTonic",{type:"entity",default:null}),PotionManager.attributes.add("BDE_wartWard",{type:"entity",default:null}),PotionManager.attributes.add("BDF_icarusElixer",{type:"entity",default:null}),PotionManager.attributes.add("BEF_nightFlight",{type:"entity",default:null}),PotionManager.attributes.add("CDE_coldConcoction",{type:"entity",default:null}),PotionManager.attributes.add("CDF_toxicTonic",{type:"entity",default:null}),PotionManager.attributes.add("CEF_boneBrew",{type:"entity",default:null}),PotionManager.attributes.add("DEF_potionOfShrinking",{type:"entity",default:null}),PotionManager.attributes.add("potionpoof",{type:"entity",default:null}),PotionManager.prototype.initialize=function(){this.app.on("potionCombinationLogic:showPotionEvent",this.showPotion,this),this.app.on("pickerRaycast:resetGame",this.resetGame,this),this.potionArray=[this.AAA_hairOfTheDog,this.BCD_pointyPunch,this.BCE_peepingPotion,this.BCF_tupeeTonic,this.BDE_wartWard,this.BDF_icarusElixer,this.BEF_nightFlight,this.CDE_coldConcoction,this.CDF_toxicTonic,this.CEF_boneBrew,this.DEF_potionOfShrinking];for(var t=0;t<this.potionArray.length;t++)this.potionArray[t].enabled=!1},PotionManager.prototype.resetGame=function(){for(var t=0;t<this.potionArray.length;t++)console.log("RESETTING POTION: "+this.potionArray[t].name),this.potionArray[t].enabled=!1},PotionManager.prototype.showPotion=function(t){this.potionpoof.script.potionAnimationEnabler.animateObject();var i=this;setTimeout(function(){i.potionArray[t].enabled=!0,i.potionArray[t].sound.play("clink")},100),setTimeout(function(){i.app.fire("potionManager:changeCam","MoveCam")},1500)};var PotionSoundManager=pc.createScript("potionSoundManager");PotionManager.attributes.add("AAA_hairOfTheDog",{type:"entity",default:null}),PotionManager.attributes.add("BCD_pointyPunch",{type:"entity",default:null}),PotionManager.attributes.add("BCE_peepingPotion",{type:"entity",default:null}),PotionManager.attributes.add("BCF_tupeeTonic",{type:"entity",default:null}),PotionManager.attributes.add("BDE_wartWard",{type:"entity",default:null}),PotionManager.attributes.add("BDF_icarusElixer",{type:"entity",default:null}),PotionManager.attributes.add("BEF_nightFlight",{type:"entity",default:null}),PotionManager.attributes.add("CDE_coldConcoction",{type:"entity",default:null}),PotionManager.attributes.add("CDF_toxicTonic",{type:"entity",default:null}),PotionManager.attributes.add("CEF_boneBrew",{type:"entity",default:null}),PotionManager.attributes.add("DEF_potionOfShrinking",{type:"entity",default:null}),PotionSoundManager.prototype.initialize=function(){this.app.on("potionCombinationLogic:showPotionEvent",this.showPotion,this),this.potionArray=[this.AAA_hairOfTheDog,this.BCD_pointyPunch,this.BCE_peepingPotion,this.BCF_tupeeTonic,this.BDE_wartWard,this.BDF_icarusElixer,this.BEF_nightFlight,this.CDE_coldConcoction,this.CDF_toxicTonic,this.CEF_boneBrew,this.DEF_potionOfShrinking];for(var t=0;t<this.potionArray.length;t++)this.potionArray[t].enabled=!1},PotionSoundManager.prototype.update=function(t){},PotionManager.prototype.playPotionSound=function(t){this.potionArray[t].enabled=!0};var AnimatedTexture=pc.createScript("animatedTexture");AnimatedTexture.attributes.add("materialAsset",{type:"asset",assetType:"material"}),AnimatedTexture.attributes.add("numFrames",{type:"number",default:1,description:"Number of frames to play before looping"}),AnimatedTexture.attributes.add("startFrame",{type:"number",default:0,description:"Frame to start animation from"}),AnimatedTexture.attributes.add("width",{type:"number",default:1,description:"Number of frames wide"}),AnimatedTexture.attributes.add("height",{type:"number",default:1,description:"Number of frames high"}),AnimatedTexture.attributes.add("frameRate",{type:"number",default:1,description:"Playback frames per second"}),AnimatedTexture.prototype.initialize=function(){this.materialAsset&&(this.material=this.materialAsset.resource),this.timer=1/this.frameRate,this.frame=this.startFrame,this.transform=new pc.Vec4,this.updateMaterial(this.frame)},AnimatedTexture.prototype.update=function(t){this.timer-=t,this.timer<0&&(this.frame++,this.frame>=this.numFrames+this.startFrame&&(this.frame=this.startFrame),this.updateMaterial(this.frame),this.timer=1/this.frameRate)},AnimatedTexture.prototype.updateMaterial=function(t){var e=1/this.width,a=1/this.height,r=t%this.width,i=Math.floor(t/this.width),s=this.entity.model.meshInstances;this.transform.set(e,a,r*e,1-a-i*a),s[0].setParameter("texture_diffuseMapTransform",this.transform.data),s[0].setParameter("texture_emissiveMapTransform",this.transform.data),s[0].setParameter("texture_opacityMapTransform",this.transform.data)};var BasicEnable=pc.createScript("basicEnable");BasicEnable.attributes.add("frame1",{type:"entity",default:null}),BasicEnable.attributes.add("frame2",{type:"entity",default:null}),BasicEnable.attributes.add("frame3",{type:"entity",default:null}),BasicEnable.attributes.add("frame4",{type:"entity",default:null}),BasicEnable.attributes.add("frame5",{type:"entity",default:null}),BasicEnable.attributes.add("animationTime",{type:"number",default:100,description:"Number of frames timing"}),BasicEnable.prototype.initialize=function(){this.app.on("potionCombinationLogic:applyCharacterPoof",this.animateObject,this),this.disableFrame()},BasicEnable.prototype.disableFrame=function(){this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,console.log("All frames are disabled")},BasicEnable.prototype.frameToUpdate=function(e){switch(e){case 1:this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame1.enabled=!0;break;case 2:this.frame1.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame2.enabled=!0;break;case 3:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame3.enabled=!0;break;case 4:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame5.enabled=!1,this.frame4.enabled=!0;break;case 5:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!0;break;default:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1}},BasicEnable.prototype.animateObject=function(){for(var e=0,a=this;e<7;)!function(e){setTimeout(function(){a.frameToUpdate(e)},a.animationTime*e)}(e++)};var SlotScript=pc.createScript("slotScript");SlotScript.attributes.add("wolfsbane",{type:"entity",default:null}),SlotScript.attributes.add("batWing",{type:"entity",default:null}),SlotScript.attributes.add("unicornTears",{type:"entity",default:null}),SlotScript.attributes.add("slimySnail",{type:"entity",default:null}),SlotScript.attributes.add("eyeOfNewt",{type:"entity",default:null}),SlotScript.attributes.add("phoenixFeathers",{type:"entity",default:null}),SlotScript.prototype.initialize=function(){this.app.on("pickerRaycast:resetGame",this.hideAllIngredients,this),this.charArray=["A","B","C","D","E","F"],this.imageArray=[this.wolfsbane,this.batWing,this.unicornTears,this.slimySnail,this.eyeOfNewt,this.phoenixFeathers],this.hideAllIngredients()},SlotScript.prototype.hideAllIngredients=function(){for(var t=0;t<this.imageArray.length;t++)this.imageArray[t].enabled=!1},SlotScript.prototype.showIngredients=function(t){for(var e=0;e<this.charArray.length;e++)this.charArray[e]==t&&(this.imageArray[e].enabled=!0)};var SlotScriptManager=pc.createScript("slotScriptManager");SlotScriptManager.attributes.add("container0",{type:"entity",default:null}),SlotScriptManager.attributes.add("container1",{type:"entity",default:null}),SlotScriptManager.attributes.add("container2",{type:"entity",default:null}),SlotScriptManager.prototype.initialize=function(){this.app.on("potionCombinationLogic:showFirstIngredient",this.showFirstIngredient,this),this.app.on("potionCombinationLogic:showSecondIngredient",this.showSecondIngredient,this),this.app.on("potionCombinationLogic:showThirdIngredient",this.showThirdIngredient,this),this.app.on("pickerRaycast:resetGame",this.resetGame,this)},SlotScriptManager.prototype.resetGame=function(){this.container0.script.slotScript.hideAllIngredients(),this.container1.script.slotScript.hideAllIngredients(),this.container2.script.slotScript.hideAllIngredients()},SlotScriptManager.prototype.showFirstIngredient=function(t){this.container0.script.slotScript.showIngredients(t)},SlotScriptManager.prototype.showSecondIngredient=function(t){this.container1.script.slotScript.showIngredients(t)},SlotScriptManager.prototype.showThirdIngredient=function(t){this.container2.script.slotScript.showIngredients(t)};var PotionAnimationEnabler=pc.createScript("potionAnimationEnabler");PotionAnimationEnabler.attributes.add("frame1",{type:"entity",default:null}),PotionAnimationEnabler.attributes.add("frame2",{type:"entity",default:null}),PotionAnimationEnabler.attributes.add("frame3",{type:"entity",default:null}),PotionAnimationEnabler.attributes.add("frame4",{type:"entity",default:null}),PotionAnimationEnabler.attributes.add("frame5",{type:"entity",default:null}),PotionAnimationEnabler.attributes.add("animationTime",{type:"number",default:100,description:"Number of frames timing"}),PotionAnimationEnabler.prototype.initialize=function(){this.disableFrame()},PotionAnimationEnabler.prototype.disableFrame=function(){this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,console.log("All frames are disabled")},PotionAnimationEnabler.prototype.frameToUpdate=function(e){switch(e){case 1:this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame1.enabled=!0;break;case 2:this.frame1.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame2.enabled=!0;break;case 3:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame3.enabled=!0;break;case 4:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame5.enabled=!1,this.frame4.enabled=!0;break;case 5:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!0;break;default:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1}},PotionAnimationEnabler.prototype.animateObject=function(){for(var e=0,a=this;e<7;)!function(e){setTimeout(function(){a.frameToUpdate(e)},a.animationTime*e)}(e++)};var AnimatePotionPosition=pc.createScript("animatePotionPosition");AnimatePotionPosition.prototype.initialize=function(){},AnimatePotionPosition.prototype.update=function(i){};var IngredientManager=pc.createScript("ingredientManager");IngredientManager.attributes.add("eyeOfNewt",{type:"entity",default:null}),IngredientManager.attributes.add("batWing",{type:"entity",default:null}),IngredientManager.attributes.add("wolfsBane",{type:"entity",default:null}),IngredientManager.attributes.add("slimySnail",{type:"entity",default:null}),IngredientManager.attributes.add("unicornTears",{type:"entity",default:null}),IngredientManager.attributes.add("phoenixFeather",{type:"entity",default:null}),IngredientManager.prototype.initialize=function(){this.app.on("pickerRaycast:resetGame",this.resetGame,this),this.ingredientArray=[this.eyeOfNewt,this.batWing,this.wolfsBane,this.slimySnail,this.unicornTears,this.phoenixFeather],this.originLocation=[{x:0,y:0,z:0},{x:0,y:0,z:0},{x:0,y:0,z:0},{x:0,y:0,z:0},{x:0,y:0,z:0},{x:0,y:0,z:0}];for(var e=0;e<this.ingredientArray.length;e++)this.ingredientArray[e]},IngredientManager.prototype.resetGame=function(){for(var e=0;e<this.ingredientArray.length;e++)console.log("RESETTING INGREDIENT "+this.ingredientArray[e].name),this.ingredientArray[e].enabled=!0,this.ingredientArray[e].script.ingredientEnableState.returnToOrigin()},IngredientManager.prototype.resetPositions=function(e){for(var t=0;t<this.ingredientArray.length;t++){var n=this.ingredientArray[t];n.script.ingredientEnableState.returnToOrigin(),n.enabled=!1}};var AnimationBubbles=pc.createScript("animationBubbles");AnimationBubbles.attributes.add("frame1",{type:"entity",default:null}),AnimationBubbles.attributes.add("frame2",{type:"entity",default:null}),AnimationBubbles.attributes.add("frame3",{type:"entity",default:null}),AnimationBubbles.attributes.add("frame4",{type:"entity",default:null}),AnimationBubbles.attributes.add("frame5",{type:"entity",default:null}),AnimationBubbles.attributes.add("frame6",{type:"entity",default:null}),AnimationBubbles.attributes.add("animationTime",{type:"number",default:100,description:"Number of frames timing"}),AnimationBubbles.attributes.add("i",{type:"number",default:500,description:"interval"}),AnimationBubbles.prototype.initialize=function(){this.disableFrame();var e=this;setInterval(function(){e.frameToUpdate(e.i),e.addsIndex()},e.animationTime)},AnimationBubbles.prototype.disableFrame=function(){this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame6.enabled=!1,console.log("All frames are disabled")},AnimationBubbles.prototype.frameToUpdate=function(e){switch(e){case 1:this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame6.enabled=!1,this.frame1.enabled=!0;break;case 2:this.frame1.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame6.enabled=!1,this.frame2.enabled=!0;break;case 3:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame6.enabled=!1,this.frame3.enabled=!0;break;case 4:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame5.enabled=!1,this.frame6.enabled=!1,this.frame4.enabled=!0;break;case 5:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame6.enabled=!1,this.frame5.enabled=!0;break;case 6:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame6.enabled=!0;break;default:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame6.enabled=!1}},AnimationBubbles.prototype.addsIndex=function(){this.i>=6?this.i=1:this.i++};var IngredientEnableState=pc.createScript("ingredientEnableState");IngredientEnableState.attributes.add("originX",{type:"number",default:0}),IngredientEnableState.attributes.add("originY",{type:"number",default:0}),IngredientEnableState.attributes.add("originZ",{type:"number",default:0}),IngredientEnableState.attributes.add("splash",{type:"entity",default:null}),IngredientEnableState.prototype.initialize=function(){this.pos=this.entity.getLocalPosition(),console.log("In initialiize function of "+this.entity.name),console.log("this.pos starts at "+this.pos.x+", "+this.pos.y+", "+this.pos.z)},IngredientEnableState.prototype.disableIngredient=function(){console.log("*******"),console.log("The disableIngredient function has been called on "+this.entity.name),console.log("Set to "+this.pos.x+", "+this.pos.y+", "+this.pos.z),this.entity.setLocalPosition(this.originX,this.originY,this.originX),this.entity.enabled=!1;this.app.fire("ingredientEnableState:animateSplash"),setTimeout(function(){},500)},IngredientEnableState.prototype.returnToOrigin=function(){this.entity.setLocalPosition(this.originX,this.originY,this.originX)};var SplashAnimator=pc.createScript("splashAnimator");SplashAnimator.attributes.add("frame1",{type:"entity",default:null}),SplashAnimator.attributes.add("frame2",{type:"entity",default:null}),SplashAnimator.attributes.add("frame3",{type:"entity",default:null}),SplashAnimator.attributes.add("frame4",{type:"entity",default:null}),SplashAnimator.attributes.add("frame5",{type:"entity",default:null}),SplashAnimator.attributes.add("animationTime",{type:"number",default:100,description:"Number of frames timing"}),SplashAnimator.prototype.initialize=function(){this.app.on("ingredientEnableState:animateSplash",this.animateObject,this),this.disableFrame()},SplashAnimator.prototype.disableFrame=function(){this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,console.log("All frames are disabled")},SplashAnimator.prototype.frameToUpdate=function(e){switch(console.log("I am in the switch at "+e),e){case 1:this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame1.enabled=!0;break;case 2:this.frame1.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame2.enabled=!0;break;case 3:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1,this.frame3.enabled=!0;break;case 4:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame5.enabled=!1,this.frame4.enabled=!0;break;case 5:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!0;break;default:this.frame1.enabled=!1,this.frame2.enabled=!1,this.frame3.enabled=!1,this.frame4.enabled=!1,this.frame5.enabled=!1}},SplashAnimator.prototype.animateObject=function(){for(var e=0,a=this;e<7;)!function(e){console.log("I am in the loop at "+e),setTimeout(function(){a.frameToUpdate(e)},a.animationTime*e)}(e++)};var BlackOverlayManager=pc.createScript("blackOverlayManager");BlackOverlayManager.attributes.add("overlay",{type:"entity",default:null}),BlackOverlayManager.attributes.add("titleImage",{type:"entity",default:null}),BlackOverlayManager.prototype.initialize=function(){this.app.on("pickerRaycast:fadeToBlack",this.startAnimating,this),this.overlay.element.opacity=0,this.titleImage.element.opacity=0,this.time=0,this.duration=2,this.isAnimating=!1,this.overlay.enabled=!1,this.titleImage.enabled=!1},BlackOverlayManager.prototype.startAnimating=function(){this.overlay.enabled=!0,this.titleImage.enabled=!0,this.isAnimating=!0},BlackOverlayManager.prototype.update=function(t){if(!0===this.isAnimating){if(this.time+=t,this.time>this.duration)return this.time=0,void(this.isAnimating=!1);location.reload()}};var Naeem=pc.createScript("naeem");Naeem.prototype.initialize=function(){},Naeem.prototype.update=function(e){};